<div
  class="fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4"
  (click)="onCancel()"
>
  <div
    class="bg-[rgb(var(--color-surface-dialog))] rounded-lg shadow-xl w-full max-w-md"
    (click)="$event.stopPropagation()"
  >
    <div class="p-4 border-b border-[rgb(var(--color-border-base))]">
      <h3 class="text-lg font-semibold text-[rgb(var(--color-text-base))]">{{ title() }}</h3>
    </div>
    <div class="p-6">
      <p class="text-sm text-[rgb(var(--color-text-muted))]">{{ message() }}</p>
      @if (showDontShowAgainOption()) {
        <div class="mt-4 flex items-center">
          <input
            type="checkbox"
            id="dontShowAgain"
            class="rounded border-[rgb(var(--color-border-base))] bg-[rgb(var(--color-background))] text-blue-600 focus:ring-blue-500"
            (change)="dontShowAgainChange.emit($any($event.target).checked)"
          />
          <label
            for="dontShowAgain"
            class="ml-2 text-sm text-[rgb(var(--color-text-muted))] select-none"
          >
            Don't show this message again
          </label>
        </div>
      }
    </div>
    <div
      class="px-6 py-3 bg-[rgb(var(--color-surface-muted))] flex justify-end items-center space-x-2 rounded-b-lg"
    >
      <button
        (click)="onCancel()"
        class="px-4 py-2 bg-[rgb(var(--color-surface-hover))] text-[rgb(var(--color-text-base))] rounded-md hover:bg-[rgb(var(--color-border-base))] transition-colors font-semibold text-sm"
      >
        Cancel
      </button>
      <button
        (click)="onConfirm()"
        class="px-4 py-2 bg-[rgb(var(--color-danger-bg-hover))] text-[rgb(var(--color-danger-text))] rounded-md hover:bg-red-200 dark:hover:bg-red-800/50 transition-colors font-semibold text-sm"
      >
        {{ confirmButtonText() }}
      </button>
    </div>
  </div>
</div>
