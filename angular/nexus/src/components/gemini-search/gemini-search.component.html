<div class="flex flex-col items-center p-4 sm:p-6 md:p-8 font-sans h-full">
  <main class="w-full max-w-6xl flex-grow flex flex-col">
    <div class="bg-[rgb(var(--color-surface))]/50 p-6 rounded-2xl shadow-2xl border border-[rgb(var(--color-border-base))] backdrop-blur-sm">
      
      <header class="w-full text-center mb-8">
        <h1 class="text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-2">
          Gemini Parameterized Search
        </h1>
        <p class="text-[rgb(var(--color-text-subtle))] text-lg">
          Fine-tune your query to the Gemini model.
        </p>
      </header>
      
      <!-- Main Search Bar -->
      <div class="flex flex-col sm:flex-row gap-3 mb-6">
        <input 
          #searchInput 
          type="text" 
          [value]="query()"
          (input)="query.set($any($event.target).value)"
          (keyup.enter)="performSearch()"
          placeholder="Enter your prompt for Gemini..."
          class="flex-grow bg-[rgb(var(--color-surface-muted))] border border-[rgb(var(--color-border-muted))] rounded-lg p-3 text-lg text-[rgb(var(--color-text-base))] focus:ring-2 focus:ring-[rgb(var(--color-accent-ring))] focus:outline-none transition duration-300 placeholder:text-[rgb(var(--color-text-subtle))]"
        />
        <button 
          (click)="performSearch()" 
          class="flex items-center justify-center gap-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:shadow-purple-500/50 transition-all duration-300 transform hover:scale-105"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" /></svg>
          <span>Generate</span>
        </button>
      </div>
      
      <!-- Advanced Parameters -->
      <details open>
        <summary class="text-xl font-semibold text-[rgb(var(--color-text-base))] cursor-pointer hover:text-[rgb(var(--color-accent-text))]">Model Parameters</summary>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6 mt-4">
          
          <div class="md:col-span-2">
            <label for="systemInstruction" class="block text-sm font-medium text-[rgb(var(--color-text-muted))]">System Instruction</label>
            <textarea id="systemInstruction" rows="2" [value]="systemInstruction()" (input)="systemInstruction.set($any($event.target).value)" class="w-full mt-1 bg-[rgb(var(--color-surface-muted))] border border-[rgb(var(--color-border-muted))] rounded-lg p-2 text-[rgb(var(--color-text-base))] focus:ring-1 focus:ring-[rgb(var(--color-accent-ring))] focus:outline-none"></textarea>
            <p class="text-xs text-[rgb(var(--color-text-subtle))] mt-1">Instructions to steer the model's behavior for all turns in the conversation.</p>
          </div>
          
          <div>
            <label for="temperature" class="flex justify-between text-sm font-medium text-[rgb(var(--color-text-muted))]">Temperature <code class="text-xs text-cyan-400">{{ temperature() }}</code></label>
            <input type="range" id="temperature" min="0" max="1" step="0.1" [value]="temperature()" (input)="onSliderChange($event, 'temperature')" class="w-full mt-1 h-2 bg-[rgb(var(--color-border-base))] rounded-lg appearance-none cursor-pointer">
            <p class="text-xs text-[rgb(var(--color-text-subtle))] mt-1">Controls randomness. Lower values are more deterministic.</p>
          </div>
          
          <div>
            <label for="topP" class="flex justify-between text-sm font-medium text-[rgb(var(--color-text-muted))]">Top-P <code class="text-xs text-cyan-400">{{ topP() }}</code></label>
            <input type="range" id="topP" min="0" max="1" step="0.1" [value]="topP()" (input)="onSliderChange($event, 'topP')" class="w-full mt-1 h-2 bg-[rgb(var(--color-border-base))] rounded-lg appearance-none cursor-pointer">
            <p class="text-xs text-[rgb(var(--color-text-subtle))] mt-1">Cumulative probability threshold for token selection.</p>
          </div>
          
          <div>
            <label for="topK" class="flex justify-between text-sm font-medium text-[rgb(var(--color-text-muted))]">Top-K <code class="text-xs text-cyan-400">{{ topK() }}</code></label>
            <input type="range" id="topK" min="1" max="100" step="1" [value]="topK()" (input)="onSliderChange($event, 'topK')" class="w-full mt-1 h-2 bg-[rgb(var(--color-border-base))] rounded-lg appearance-none cursor-pointer">
            <p class="text-xs text-[rgb(var(--color-text-subtle))] mt-1">Number of highest-probability tokens to consider.</p>
          </div>

        </div>
      </details>
    </div>
  </main>
</div>